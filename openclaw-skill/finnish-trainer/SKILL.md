---
name: Finnish Trainer
description: Daily Finnish language exercises with AI scoring and spaced repetition
triggers:
  - finnish exercise
  - suomi
  - finnish drill
  - add finnish word
---

# Finnish Trainer

## Overview

Generates Finnish language exercises, scores responses, and manages vocabulary through a spaced repetition system. Integrates with the Learning Finnish API.

## API Endpoints (Full URLs)

Base: `http://ai-vaerksted-finnish:8000` (OpenClaw and Finnish share Docker network)

**IMPORTANT: Use these exact full URLs. The path must include `/api`.**

| Action | Method | Full URL |
|--------|--------|----------|
| Get next exercise | GET | `http://ai-vaerksted-finnish:8000/api/exercise/next` |
| Submit exercise result | POST | `http://ai-vaerksted-finnish:8000/api/exercise/result` |
| Add word | POST | `http://ai-vaerksted-finnish:8000/api/words` or `/api/words/add` |
| Bulk add words | POST | `http://ai-vaerksted-finnish:8000/api/words/bulk-add` |
| List words | GET | `http://ai-vaerksted-finnish:8000/api/words` |
| Create concept | POST | `http://ai-vaerksted-finnish:8000/api/concepts` |
| List concepts | GET | `http://ai-vaerksted-finnish:8000/api/concepts` |
| Health check | GET | `http://ai-vaerksted-finnish:8000/api/health/simple` |

## Auth

When `FINNISH_API_KEY` is set on the API server, all requests need header:
`Authorization: Bearer {FINNISH_API_KEY}`. Health endpoints are exempt.

## Daily Exercise Flow

1. **GET** `http://ai-vaerksted-finnish:8000/api/exercise/next` → receive words + concepts + level
2. Generate 2-3 sentences using those words at the given level (use `generate.md`)
3. Send to user on WhatsApp
4. When user replies, score their response (use `score.md`)
5. **POST** `http://ai-vaerksted-finnish:8000/api/exercise/result` with scores

## Adding Words

When the user says "add word [finnish] = [danish/english]" or "tilføj finsk ord X":

1. **POST** (not GET) to `http://ai-vaerksted-finnish:8000/api/words/add`
   - Content-Type: application/json
   - Body: `{"finnish": "talo", "danish": "hus", "english": "house", "word_type": "noun"}`
2. Inflections are auto-generated by the API
3. Confirm to user: "Tilføjet [word] med inflektioner"

## Exercise Generation Rules

- Use the level from the API response (e.g. 15/100) to calibrate difficulty
- Level 1-20: very simple sentences, basic vocabulary, present tense
- Level 21-40: compound sentences, past tense, common cases
- Level 41-60: complex grammar, rarer cases, varied tenses
- Level 61-80: nuanced expression, idioms, conditional
- Level 81-100: near-native complexity

## Scoring Rules

- Score each word 0-10
- Consider: correct case/kasus, spelling, word order, verb form
- Provide feedback in Danish
- Return structured JSON only (see `score.md`)

## Cron Setup

```bash
openclaw cron add --schedule "0 7 * * *" --message "Run the Finnish trainer daily exercise"
```

## Full API Test & Seed

Use the prompt in `TEST_PROMPT.md` to seed the database (20 words, 3 concepts) and exercise all endpoints. Copy the prompt and send it to OpenClaw.
